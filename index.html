<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë‰´ìŠ¤ê·¸ë˜í”½ì˜ ìƒì„±í˜• AI í™œìš©ì— ëŒ€í•œ ìˆ˜ìš©ì ì €í•­ ìš”ì¸ ìˆ˜ì • ë¸íŒŒì´ 1ë¼ìš´ë“œ ì„¤ë¬¸ì§€</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&family=Noto+Serif+KR:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{--bg:#FAFAF8;--surface:#FFF;--border:#E2E0DC;--border-focus:#2C2C2C;--text-primary:#1A1A1A;--text-secondary:#5A5A5A;--text-muted:#8A8A8A;--accent:#C43A31;--accent-soft:#FFF0EF;--blue:#2B5EA7;--blue-soft:#EEF3FA;--green:#2A7D4F;--green-soft:#EDF7F1;--gold:#B8860B;--required:#C43A31;--radius:8px;--shadow-sm:0 1px 3px rgba(0,0,0,.06);--shadow-md:0 4px 16px rgba(0,0,0,.08);--shadow-lg:0 8px 32px rgba(0,0,0,.12);--font-sans:'Noto Sans KR',-apple-system,sans-serif;--font-serif:'Noto Serif KR',Georgia,serif;--admin-accent:#e94560}
*{margin:0;padding:0;box-sizing:border-box}html{font-size:16px;scroll-behavior:smooth}
body{font-family:var(--font-sans);background:var(--bg);color:var(--text-primary);line-height:1.7;-webkit-font-smoothing:antialiased}

.progress-container{position:fixed;top:0;left:0;right:0;z-index:100;background:rgba(255,255,255,.9);backdrop-filter:blur(8px);border-bottom:1px solid var(--border);padding:12px 24px;display:flex;align-items:center;gap:16px}
.progress-label{font-size:13px;color:var(--text-muted);white-space:nowrap;font-weight:500;min-width:60px}
.progress-bar{flex:1;height:6px;background:#EAEAE8;border-radius:3px;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--gold));border-radius:3px;transition:width .5s;width:0%}
.progress-pages{font-size:13px;color:var(--text-muted);white-space:nowrap}

.survey-wrapper{max-width:760px;margin:0 auto;padding:80px 24px 120px}
.survey-header{text-align:center;margin-bottom:48px;padding:48px 32px;background:var(--surface);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow-sm)}
.uni-badge{display:inline-block;font-size:12px;font-weight:600;letter-spacing:.08em;color:var(--accent);background:var(--accent-soft);padding:6px 16px;border-radius:20px;margin-bottom:20px}
.survey-header h1{font-family:var(--font-serif);font-size:22px;font-weight:700;line-height:1.5;margin-bottom:8px}
.survey-header .subtitle{font-family:var(--font-serif);font-size:15px;color:var(--text-secondary);margin-bottom:12px}
.researcher-info{font-size:13px;color:var(--text-muted);line-height:1.8}

.survey-page{display:none}.survey-page.active{display:block;animation:fadeIn .4s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}

.section-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:36px 32px;margin-bottom:20px;box-shadow:var(--shadow-sm);transition:box-shadow .2s}
.section-card:hover{box-shadow:var(--shadow-md)}
.section-title{font-family:var(--font-serif);font-size:18px;font-weight:700;margin-bottom:6px}
.section-subtitle{font-size:13px;color:var(--text-muted);margin-bottom:24px;font-weight:500}

.info-box{background:var(--blue-soft);border-left:3px solid var(--blue);padding:16px 20px;border-radius:0 var(--radius) var(--radius) 0;margin-bottom:24px;font-size:14px;line-height:1.8}
.info-box.definition{background:#F8F7F4;border-left-color:var(--gold)}
.info-box.warning{background:var(--accent-soft);border-left-color:var(--accent)}
.info-box.green{background:var(--green-soft);border-left-color:var(--green)}
.info-box strong{font-weight:600}

.ref-table{width:100%;border-collapse:collapse;font-size:13px;margin:16px 0}
.ref-table th,.ref-table td{padding:10px 12px;border:1px solid var(--border);text-align:left;vertical-align:top;line-height:1.6}
.ref-table th{background:#F5F4F1;font-weight:600;color:var(--text-secondary);white-space:nowrap}

.matrix-table{width:100%;border-collapse:collapse;font-size:13px;margin:16px 0}
.matrix-table th,.matrix-table td{padding:10px 12px;border:1px solid var(--border);text-align:center}
.matrix-table th{background:#F5F4F1;font-weight:600;color:var(--text-secondary)}
.matrix-table .row-header{text-align:left;font-weight:600;background:#FAFAF8;white-space:nowrap}

.question-group{margin-bottom:28px}.question-group:last-child{margin-bottom:0}
.question-label{font-size:14.5px;font-weight:500;margin-bottom:10px;line-height:1.6}
.question-label .required{color:var(--required);margin-left:2px;font-weight:600}
.question-hint{font-size:13px;color:var(--text-muted);margin-bottom:10px;line-height:1.6}

input[type="text"],input[type="number"]{width:100%;padding:12px 16px;border:1px solid var(--border);border-radius:var(--radius);font-family:var(--font-sans);font-size:14px;background:#FAFAF8;transition:border-color .2s,box-shadow .2s}
input:focus{outline:none;border-color:var(--border-focus);box-shadow:0 0 0 3px rgba(44,44,44,.08);background:#fff}
input.error{border-color:var(--required);box-shadow:0 0 0 3px rgba(196,58,49,.1)}
textarea{width:100%;min-height:100px;padding:14px 16px;border:1px solid var(--border);border-radius:var(--radius);font-family:var(--font-sans);font-size:14px;background:#FAFAF8;resize:vertical}
textarea:focus{outline:none;border-color:var(--border-focus);box-shadow:0 0 0 3px rgba(44,44,44,.08);background:#fff}

.radio-group,.checkbox-group{display:flex;flex-wrap:wrap;gap:8px}
.radio-group label,.checkbox-group label{display:flex;align-items:center;gap:8px;padding:10px 18px;border:1px solid var(--border);border-radius:var(--radius);font-size:14px;cursor:pointer;transition:all .15s;background:#FAFAF8}
.radio-group label:hover,.checkbox-group label:hover{border-color:var(--border-focus);background:#fff}
.radio-group label:has(input:checked),.checkbox-group label:has(input:checked){border-color:var(--border-focus);background:#fff;box-shadow:var(--shadow-sm)}

.likert-scale{display:flex;gap:0;margin-top:4px}
.likert-option{flex:1;text-align:center;cursor:pointer}
.likert-option input{display:none}
.likert-option .likert-btn{display:block;padding:14px 4px;border:1px solid var(--border);margin-left:-1px;font-size:13px;color:var(--text-secondary);background:#FAFAF8;transition:all .15s;user-select:none}
.likert-option:first-child .likert-btn{border-radius:var(--radius) 0 0 var(--radius);margin-left:0}
.likert-option:last-child .likert-btn{border-radius:0 var(--radius) var(--radius) 0}
.likert-option:hover .likert-btn{background:#F0EFEC}
.likert-option input:checked~.likert-btn{background:var(--text-primary);color:#fff;border-color:var(--text-primary);font-weight:600;position:relative;z-index:1}
.likert-labels{display:flex;justify-content:space-between;font-size:11px;color:var(--text-muted);margin-top:6px;padding:0 4px}
.likert-scale.error .likert-btn{border-color:var(--required)}

.pcc-def-block{background:#FAFAF8;border-left:3px solid var(--gold);padding:14px 18px;border-radius:0 8px 8px 0;margin-bottom:12px;font-size:14px;line-height:1.7}
.pcc-def-block strong{color:var(--text-primary)}
.pcc-def-block em{color:var(--text-secondary);font-style:italic}

.nav-buttons{display:flex;justify-content:space-between;align-items:center;margin-top:32px;padding-top:24px}
.btn{padding:14px 32px;border:none;border-radius:var(--radius);font-family:var(--font-sans);font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}
.btn-prev{background:transparent;border:1px solid var(--border);color:var(--text-secondary)}
.btn-prev:hover{border-color:var(--border-focus);color:var(--text-primary)}
.btn-next{background:var(--text-primary);color:#fff}
.btn-next:hover{background:#333;transform:translateY(-1px);box-shadow:var(--shadow-md)}
.btn-submit{background:var(--accent);color:#fff;padding:16px 48px;font-size:15px}
.btn-submit:hover{background:#A83029;transform:translateY(-1px);box-shadow:var(--shadow-md)}
.btn:disabled{opacity:.4;cursor:not-allowed;transform:none!important}

.completion-page{text-align:center;padding:80px 32px;background:var(--surface);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow-md)}
.completion-page .check-icon{width:72px;height:72px;background:var(--green-soft);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 24px;font-size:36px}
.completion-page h2{font-family:var(--font-serif);font-size:22px;margin-bottom:12px}
.completion-page p{font-size:14px;color:var(--text-secondary);line-height:1.8}

.toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(100px);background:var(--accent);color:#fff;padding:14px 28px;border-radius:var(--radius);font-size:14px;font-weight:500;box-shadow:var(--shadow-lg);z-index:200;transition:transform .3s ease;white-space:nowrap}
.toast.show{transform:translateX(-50%) translateY(0)}
.divider{height:1px;background:var(--border);margin:28px 0}
.star-marker{color:var(--gold);font-size:18px}

/* Admin bar (for ?admin=true) */
.admin-bar{display:none;position:fixed;top:0;left:0;right:0;z-index:200;background:linear-gradient(135deg,#1a1a2e,#16213e);color:#fff;padding:10px 24px;font-size:13px;font-weight:600;text-align:center;gap:12px;align-items:center;justify-content:center;box-shadow:0 2px 12px rgba(0,0,0,.3)}
body.admin-mode .admin-bar{display:flex}
body.admin-mode .progress-container{top:44px}
body.admin-mode .survey-wrapper{padding-top:124px}
.admin-bar button{background:rgba(255,255,255,.15);color:#fff;border:1px solid rgba(255,255,255,.25);padding:5px 14px;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;transition:all .15s}
.admin-bar button:hover{background:var(--admin-accent);border-color:var(--admin-accent)}
.admin-bar button.primary{background:var(--admin-accent);border-color:var(--admin-accent)}
.admin-bar .sep{width:1px;height:20px;background:rgba(255,255,255,.2)}
body.admin-mode [data-edit]{outline:2px dashed transparent;cursor:pointer;border-radius:4px;transition:all .15s;position:relative}
body.admin-mode [data-edit]:hover{outline:2px dashed var(--admin-accent);background:rgba(233,69,96,.04)}
body.admin-mode [data-edit]:focus{outline:2px solid var(--admin-accent);background:rgba(233,69,96,.08)}
.item-actions{display:none;position:absolute;top:8px;right:8px;gap:4px;z-index:10}
body.admin-mode .item-actions{display:flex}
.item-actions button{width:28px;height:28px;border-radius:6px;border:1px solid var(--border);background:var(--surface);color:var(--text-muted);font-size:13px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s;padding:0}
.item-actions button:hover{border-color:var(--admin-accent);color:var(--admin-accent);background:var(--accent-soft)}
.add-item-btn{display:none;width:100%;padding:14px;border:2px dashed var(--border);border-radius:10px;background:transparent;color:var(--text-muted);font-size:14px;font-weight:500;cursor:pointer;transition:all .15s;margin-bottom:20px}
body.admin-mode .add-item-btn{display:block}
.add-item-btn:hover{border-color:var(--admin-accent);color:var(--admin-accent);background:rgba(233,69,96,.03)}

.collapsible-ref{border:1px solid var(--border);border-radius:var(--radius);margin-bottom:16px;overflow:hidden}
.collapsible-ref summary{padding:14px 18px;font-size:14px;font-weight:500;color:var(--text-secondary);cursor:pointer;background:#FAFAF8;transition:all .15s;list-style:none;display:flex;align-items:center;gap:8px}
.collapsible-ref summary::-webkit-details-marker{display:none}
.collapsible-ref summary::before{content:'â–¸';font-size:12px;color:var(--text-muted);transition:transform .2s;flex-shrink:0}
.collapsible-ref[open] summary::before{transform:rotate(90deg)}
.collapsible-ref summary:hover{background:#F0EFEC;color:var(--text-primary)}
.collapsible-ref .ref-inner{padding:16px 18px;border-top:1px solid var(--border);background:var(--surface)}
#jsonImporter{display:none}

@media(max-width:640px){
  .survey-wrapper{padding:70px 12px 100px}.section-card{padding:24px 18px}.survey-header{padding:32px 20px}
  .survey-header h1{font-size:18px}.likert-option .likert-btn{padding:12px 2px;font-size:12px}
  .radio-group{flex-direction:column}.btn{padding:12px 24px;font-size:13px}
  .admin-bar{flex-wrap:wrap;padding:8px 12px;gap:6px}
}
</style>
</head>
<body>

<div class="admin-bar">ğŸ”§ í¸ì§‘ ëª¨ë“œ â€” í…ìŠ¤íŠ¸ í´ë¦­ìœ¼ë¡œ ìˆ˜ì • <span class="sep"></span>
  <button class="primary" onclick="exportJSON()">ğŸ’¾ ì €ì¥</button>
  <button onclick="importJSON()">ğŸ“‚ ë¶ˆëŸ¬ì˜¤ê¸°</button>
  <button onclick="location.href=location.pathname">âœ• ì¢…ë£Œ</button>
</div>
<input type="file" id="jsonImporter" accept=".json" onchange="handleImport(event)">

<div class="progress-container">
  <span class="progress-label" id="progressLabel">0%</span>
  <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
  <span class="progress-pages" id="progressPages">1 / 9</span>
</div>
<div class="toast" id="toast"></div>

<div class="survey-wrapper">
  <div class="survey-header">
    <div class="uni-badge">í™ìµëŒ€í•™êµ ì¼ë°˜ëŒ€í•™ì› Â· ë°•ì‚¬í•™ìœ„ë…¼ë¬¸ ì—°êµ¬</div>
    <h1>ë‰´ìŠ¤ê·¸ë˜í”½ì˜ ìƒì„±í˜• AI í™œìš©ì— ëŒ€í•œ<br>ìˆ˜ìš©ì ì €í•­ ìš”ì¸</h1>
    <div class="subtitle">â€” í˜ì‹ ì €í•­ëª¨ë¸ê³¼ ì €ë„ë¦¬ì¦˜ ì‹ ë¢°ì„± ìš”ì¸ì„ ì¤‘ì‹¬ìœ¼ë¡œ â€”</div>
    <div class="subtitle" style="font-size:14px;color:var(--text-primary);font-weight:500;">ìˆ˜ì • ë¸íŒŒì´(Modified Delphi) 1ë¼ìš´ë“œ ì„¤ë¬¸ì§€</div>
    <div style="height:16px;"></div>
    <div class="researcher-info">ì—°êµ¬ì : í™ìµëŒ€í•™êµ ì¼ë°˜ëŒ€í•™ì› AIÂ·ì‹¤ê°ë¯¸ë””ì–´ì½˜í…ì¸ í•™ ë°•ì‚¬ê³¼ì • ë¥˜ ì¢… ì›<br>ì´ë©”ì¼: gongkar@gmail.com </a> &nbsp;|&nbsp; ì—°ë½ì²˜: 010-9362-5763</div>
    <div style="height:16px;"></div>
    <a href="https://gongkar.github.io/Delphi_1rounds_test/260226_%EC%97%B0%EA%B5%AC%20%EC%84%A4%EB%AA%85%EC%84%9C%20%EB%B0%8F%20%EC%97%B0%EA%B5%AC%EA%B0%9C%EC%9A%94.pdf" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:10px 20px;background:var(--blue-soft);border:1px solid var(--blue);border-radius:var(--radius);color:var(--blue);font-size:13px;font-weight:600;text-decoration:none;transition:all .15s;">ğŸ“„ ì—°êµ¬ ì„¤ëª…ì„œ ë° ì—°êµ¬ê°œìš” ë³´ê¸°</a>
  </div>

  <!-- PAGE 0: ì•ˆë‚´ ë° ì„œì•½ -->
  <div class="survey-page active" data-page="0">
    <div class="section-card">
      <div class="section-title">ì—°êµ¬ë¥¼ ìœ„í•œ ì•ˆë‚´ ë° ì„œì•½</div>
      <div class="info-box" style="line-height:2;">
        ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ?<br><br>
        ë°”ì˜ì‹  ì¼ê³¼ ì¤‘ì—ì„œë„ ë³¸ ì—°êµ¬ë¥¼ ìœ„í•œ í‰ì •ì— ì°¸ì—¬í•´ ì£¼ì‹¬ì— ê°ì‚¬ë“œë¦½ë‹ˆë‹¤. ë³¸ ì§ˆë¬¸ì§€ëŠ” ë‰´ìŠ¤ê·¸ë˜í”½ì˜ ìƒì„±í˜• AI í™œìš©ì— ëŒ€í•œ ìˆ˜ìš©ìì˜ ì €í•­ ìš”ì¸ì„, í˜ì‹ ì €í•­ëª¨ë¸(Innovation Resistance Model, IRM)ê³¼ Kohring &amp; Matthes(2007)ì˜ 4ì°¨ì› ì €ë„ë¦¬ì¦˜ ì‹ ë¢°ì„± ì²™ë„(K&amp;M 4ì°¨ì› ì‹ ë¢°ì„± ì²™ë„)ë¥¼ í†µí•©í•˜ëŠ” ì´ë¡ ì  êµ¬ì¡°ë¥¼ í†µí•´ ì²´ê³„í™”í•˜ê³ , ê·¸ íƒ€ë‹¹ì„±ì„ ê²€ì¦í•˜ê¸° ìœ„í•œ ë¸íŒŒì´ ì¡°ì‚¬ì…ë‹ˆë‹¤.
        <br><br>
        <strong>ì ì¬ì  êµì°¨ êµ¬ì¸(Potential Cross-Constructs; PCC)ì´ë€,</strong> IRMì˜ 4ê°œ ì €í•­ ì¥ë²½(ê°€ì¹˜Â·ìœ„í—˜Â·ì „í†µÂ·ì´ë¯¸ì§€)ê³¼ K&amp;M 4ì°¨ì› ì‹ ë¢°ì„± ì²™ë„ì˜ 4ê°œ í•˜ìœ„ ì°¨ì›(ì£¼ì œ ì„ íƒì„±Â·ì‚¬ì‹¤ ì„ íƒì„±Â·ë¬˜ì‚¬ ì •í™•ì„±Â·ì €ë„ë¦¬ìŠ¤í‹± í‰ê°€)ì„ ì´ë¡ ì ìœ¼ë¡œ êµì°¨ì‹œì¼œ ë„ì¶œí•œ 16ê°œì˜ êµ¬ì¸ í›„ë³´ì…ë‹ˆë‹¤. ë³¸ ì—°êµ¬ëŠ” ë¸íŒŒì´ ì „ë¬¸ê°€ í•©ì˜ë¥¼ í†µí•´ ì´ ì ì¬ì  êµì°¨ êµ¬ì¸ë“¤ì˜ ì´ë¡ ì  íƒ€ë‹¹ì„±ì„ ê²€ì¦í•˜ê³ , ìµœì¢…ì ìœ¼ë¡œ AI ë‰´ìŠ¤ê·¸ë˜í”½ì— ëŒ€í•œ ìˆ˜ìš©ì ì €í•­ì„ ì¸¡ì •í•˜ëŠ” ë„êµ¬ì˜ êµ¬ì¸ ì²´ê³„ë¡œ í™•ë¦½í•˜ê³ ì í•©ë‹ˆë‹¤.
        <br><br>
        ì¡°ì‚¬ì— ì•ì„œ, ë‘ ì´ë¡ ì˜ í†µí•© ë…¼ë¦¬ì™€ ì´ë¥¼ í†µí•œ ì ì¬ì  êµì°¨ êµ¬ì¸ì˜ ë„ì¶œ ê³¼ì •ì— ëŒ€í•œ ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ì—°êµ¬ ê°œìš” ë¬¸ì„œë¥¼ ì²¨ë¶€í•˜ì˜€ìŠµë‹ˆë‹¤. ë³¸ ì¡°ì‚¬ì— ì°¸ì—¬í•˜ì‹œê¸° ì „ì— í•´ë‹¹ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ ì£¼ì‹œë©´, ê° êµ¬ì¸ì˜ ì´ë¡ ì  ê·¼ê±°ì™€ ê°œë…ì  ì—­í• ì„ ë³´ë‹¤ ì •í™•í•˜ê²Œ ì´í•´í•˜ì‹œëŠ” ë° ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.
        <br><br>
        ì œì‹œëœ ê° êµ¬ì¸ì— ëŒ€í•´ íƒ€ë‹¹ì„±ì„ í‰ê°€í•´ ì£¼ì‹œê³ , ìš”ì†Œ ì„ ì •ê³¼ ê´€ë ¨í•˜ì—¬ ì¶”ê°€, ì‚­ì œ, ìˆ˜ì •, í†µí•© ë“±ì˜ ì˜ê²¬ì´ ìˆìœ¼ì‹¤ ê²½ìš°, ë§ˆë ¨ëœ ê³µë€ì— ê¸°ë¡í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.
        <br><br>
        êµ¬ì¸ ì„ ì •ì€ íŒ¨ë„ ê°„ í•©ì˜ë¥¼ í†µí•´ ìµœì¢…ì ì¸ ì˜ê²¬ì„ ìˆ˜ë ´í•˜ëŠ” ê³¼ì •ì´ë¯€ë¡œ, ë³¸ì¸ì˜ íŒë‹¨ì— ëŒ€í•´ ì‹¤ì œ ì‚¬ë¡€ ë“± êµ¬ì²´ì ì¸ ì´ìœ ë‚˜ ê·¼ê±°ë¥¼ í•¨ê»˜ ì‘ì„±í•´ì£¼ì‹œê¸¸ ë¶€íƒë“œë¦½ë‹ˆë‹¤.
        <br><br>
        <span style="color:var(--accent);font-size:13px;">â€» ì°¸ê³ : 2ë¼ìš´ë“œë¶€í„°ëŠ” ê° í•­ëª© ì˜†ì— ë‚´ìš© íƒ€ë‹¹ë„(CVR) ìˆ˜ì¹˜ê°€ í‘œê¸°ë©ë‹ˆë‹¤. 'íƒ€ë‹¹í•˜ë‹¤', 'ë§¤ìš° íƒ€ë‹¹í•˜ë‹¤'ì— í‘œì‹œëœ ì˜ê²¬ì´ ë§ì„ìˆ˜ë¡ 1ì— ê°€ê¹Œìš´ ê°’ì„ ê°€ì§€ë©°, 0.42 ì´í•˜ì¸ í•­ëª©ì€ ì‚­ì œê°€ ê³ ë ¤ë©ë‹ˆë‹¤. 2ë¼ìš´ë“œì—ì„œëŠ” ì´ ìˆ˜ì¹˜ë¥¼ ì°¸ê³ í•˜ì‹œì–´, ê¸°ì¡´ ì˜ê²¬ì„ ìœ ì§€í•˜ê±°ë‚˜ ë³€ê²½í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</span>
      </div>
      <div class="info-box green">
        ê·€í•˜ì˜ ì˜ê²¬ì€ í†µê³„ë²• ì œ33ì¡°ì— ë”°ë¼ í†µê³„ ëª©ì  ì´ì™¸ì—ëŠ” ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©°, ì² ì €íˆ ë¹„ë°€ì´ ë³´ì¥ë©ë‹ˆë‹¤. ê·€í•˜ê»˜ì„œ ì œê³µí•´ ì£¼ì‹œëŠ” ê³ ê²¬ì€ AI ë‰´ìŠ¤ê·¸ë˜í”½ì— ëŒ€í•œ ì†Œë¹„ì ì €í•­ ì—°êµ¬ì™€ ì €ë„ë¦¬ì¦˜ ë°œì „ì— ê¸°ì—¬í•˜ëŠ” ì†Œì¤‘í•œ ìë£Œë¡œ í™œìš©ë  ì˜ˆì •ì…ë‹ˆë‹¤.<br><br>
        í˜„ì—…ì—ì„œì˜ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ ì†”ì§í•˜ê³  ì†Œì¤‘í•œ ì˜ê²¬ì„ ê³µìœ í•´ ì£¼ì‹œê¸¸ ë¶€íƒë“œë¦½ë‹ˆë‹¤.
      </div>
      <p style="font-size:13px;color:var(--text-muted);text-align:right;margin-bottom:24px;" id="autoDate"></p>
      <div class="divider"></div>
      <div class="question-group">
        <div class="question-label">ì—°êµ¬ ì°¸ì—¬ ë™ì˜ <span class="required">*</span></div>
        <div class="checkbox-group"><label><input type="checkbox" name="consent" value="agree" required><span>ë³¸ì¸ì€ ìœ„ ì—°êµ¬ ì„¤ëª…ì„ ì¶©ë¶„íˆ ì½ì—ˆìœ¼ë©°, ìë°œì ìœ¼ë¡œ ë³¸ ì—°êµ¬ì— ì°¸ì—¬í•˜ëŠ” ê²ƒì— ë™ì˜í•©ë‹ˆë‹¤.</span></label></div>
      </div>
      <div class="question-group">
        <div class="question-label">ì°¸ì—¬ì ì„±ëª… <span class="required">*</span></div>
        <div class="question-hint">íŒ¨ë„ ê´€ë¦¬ ìš©ë„ë¡œë§Œ ì‚¬ìš©ë˜ë©°, ì—°êµ¬ ê²°ê³¼ì— ë…¸ì¶œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</div>
        <input type="text" name="name" placeholder="ì„±ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" required>
      </div>
    </div>
    <div class="nav-buttons"><div></div><button class="btn btn-next" onclick="nextPage()">ë‹¤ìŒ â†’</button></div>
  </div>

  <!-- PAGE 1: ì¸êµ¬í†µê³„ -->
  <div class="survey-page" data-page="1">
    <div class="section-card">
      <div class="section-title">ì¸êµ¬í†µê³„í•™ì  ì§ˆë¬¸ì§€</div>
      <div class="section-subtitle">â€» ë‹¤ìŒì˜ ë‚´ìš©ì€ ë³¸ ì—°êµ¬ì˜ ìë£Œë¶„ì„ì— í•„ìš”í•œ ì¸êµ¬í†µê³„í•™ì  ì •ë³´ì…ë‹ˆë‹¤. ë³¸ ì„¤ë¬¸ì˜ ê²°ê³¼ëŠ” ì˜¤ì§ ì—°êµ¬ë¥¼ ìœ„í•œ ëª©ì ìœ¼ë¡œë§Œ í™œìš©ë˜ë©°, ì„¤ë¬¸ì— ëŒ€í•œ ì‘ë‹µì€ ë¹„ë°€ì´ ë³´ì¥ë©ë‹ˆë‹¤.</div>
      <div class="question-group"><div class="question-label">1. ì„±ë³„ <span class="required">*</span></div><div class="radio-group"><label><input type="radio" name="gender" value="ë‚¨" required><span>ë‚¨</span></label><label><input type="radio" name="gender" value="ì—¬" required><span>ì—¬</span></label></div></div>
      <div class="question-group"><div class="question-label">2. ë‚˜ì´ <span class="required">*</span></div><div class="question-hint">ë§Œ ë‚˜ì´ë¥¼ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.</div><input type="number" name="age" placeholder="ì˜ˆ: 45" min="20" max="80" style="max-width:200px;" required></div>
      <div class="question-group"><div class="question-label">3. ìµœì¢…í•™ë ¥ <span class="required">*</span></div><div class="radio-group"><label><input type="radio" name="education" value="ë°•ì‚¬ì¡¸ì—…" required><span>ë°•ì‚¬ì¡¸ì—…</span></label><label><input type="radio" name="education" value="ë°•ì‚¬ìˆ˜ë£Œ" required><span>ë°•ì‚¬ìˆ˜ë£Œ</span></label><label><input type="radio" name="education" value="ì„ì‚¬ì¡¸ì—…" required><span>ì„ì‚¬ì¡¸ì—…</span></label><label><input type="radio" name="education" value="ì„ì‚¬ìˆ˜ë£Œ" required><span>ì„ì‚¬ìˆ˜ë£Œ</span></label><label><input type="radio" name="education" value="ëŒ€ì¡¸(í•™ì‚¬)" required><span>ëŒ€ì¡¸(í•™ì‚¬)</span></label></div></div>
      <div class="question-group"><div class="question-label">4. ì§ì¥ëª… <span class="required">*</span></div><input type="text" name="org" placeholder="ì§ì¥ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" required></div>
      <div class="question-group"><div class="question-label">4-1. ì§ìœ„ <span class="required">*</span></div><input type="text" name="position" placeholder="ì§ìœ„ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" required></div>
      <div class="question-group"><div class="question-label">5. ì „ë¬¸ ë¶„ì•¼ <span class="required">*</span></div><div class="radio-group"><label><input type="radio" name="field" value="ì–¸ë¡ í•™/ë¯¸ë””ì–´í•™" required><span>ì–¸ë¡ í•™/ë¯¸ë””ì–´í•™</span></label><label><input type="radio" name="field" value="ì €ë„ë¦¬ì¦˜ ì‹¤ë¬´" required><span>ì €ë„ë¦¬ì¦˜ ì‹¤ë¬´(ê¸°ì, ì´¬ì˜ê¸°ì, í¸ì§‘ê¸°ì ë“±)</span></label><label><input type="radio" name="field" value="ë‰´ìŠ¤ê·¸ë˜í”½/ì‹œê°ë””ìì¸" required><span>ë‰´ìŠ¤ê·¸ë˜í”½/ì‹œê°ë””ìì¸</span></label><label><input type="radio" name="field" value="AI/ê¸°ìˆ /ë°©ì†¡ê¸°ìˆ " required><span>AI/ê¸°ìˆ /ë°©ì†¡ê¸°ìˆ </span></label><label><input type="radio" name="field" value="ê¸°íƒ€" required><span>ê¸°íƒ€</span></label></div></div>
      <div class="question-group"><div class="question-label">6. ì´ ê²½ë ¥ <span class="required">*</span></div><div class="question-hint">ë‰´ìŠ¤ê·¸ë˜í”½Â·ì €ë„ë¦¬ì¦˜Â·AI ê´€ë ¨ ì‹¤ë¬´ê²½ë ¥, ì‹¬ì‚¬, ì—°êµ¬, ê°•ì˜ ë“±ì„ í¬í•¨í•œ ì´ ê²½ë ¥ ë…„ìˆ˜</div><input type="number" name="career_years" placeholder="ì˜ˆ: 15" min="0" max="60" style="max-width:200px;" required></div>
    </div>
    <div class="nav-buttons"><button class="btn btn-prev" onclick="prevPage()">â† ì´ì „</button><button class="btn btn-next" onclick="nextPage()">ë‹¤ìŒ â†’</button></div>
  </div>

  <!-- PAGE 2: ì„¤ë¬¸ ì•ˆë‚´ -->
  <div class="survey-page" data-page="2">
    <div class="section-card" id="instructionsCard"></div>
    <div class="nav-buttons"><button class="btn btn-prev" onclick="prevPage()">â† ì´ì „</button><button class="btn btn-next" onclick="nextPage()">ì„¹ì…˜ A ì‹œì‘ â†’</button></div>
  </div>

  <div id="pcc-pages-container"></div>
  <div id="sectionB-container"></div>
  <div id="completion-container"></div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const LIKERT_LABELS = ['ì „í˜€ íƒ€ë‹¹í•˜ì§€ ì•Šë‹¤','íƒ€ë‹¹í•˜ì§€ ì•Šë‹¤','ë³´í†µ','íƒ€ë‹¹í•˜ë‹¤','ë§¤ìš° íƒ€ë‹¹í•˜ë‹¤'];
const KM_DIMS = [
  {dim:'â‘  ì£¼ì œ ì„ íƒì„± ì‹ ë¢°', theory:'ì–´ë–¤ ì •ë³´ë¥¼ ë‰´ìŠ¤ë¡œ ë‹¤ë£° ê²ƒì¸ì§€ì— ëŒ€í•œ íŒë‹¨ì˜ ì ì ˆì„±ì— ëŒ€í•œ ì‹ ë¢°', applied:'ì–´ë–¤ ë‰´ìŠ¤ë¥¼ ê·¸ë˜í”½ìœ¼ë¡œ ì œì‘í• ì§€ ê²°ì •í•˜ëŠ” ê²ƒì— ëŒ€í•œ ì‹ ë¢°'},
  {dim:'â‘¡ ì‚¬ì‹¤ ì„ íƒì„± ì‹ ë¢°', theory:'ì–´ë–¤ ì‚¬ì‹¤ì„ í¬í•¨Â·ë°°ì œí•  ê²ƒì¸ì§€ì— ëŒ€í•œ í•µì‹¬ ì •ë³´ì˜ ì™„ì „ì„±ê³¼ í¸í–¥ ì—†ëŠ” ì„ ë³„ì— ëŒ€í•œ ì‹ ë¢°', applied:'ë‰´ìŠ¤ê·¸ë˜í”½ì— í¬í•¨í•  ë°ì´í„°ì™€ ì •ë³´ë¥¼ í¸í–¥ ì—†ì´ ì„ ë³„í•˜ëŠ” ê²ƒì— ëŒ€í•œ ì‹ ë¢°'},
  {dim:'â‘¢ ë¬˜ì‚¬ ì •í™•ì„± ì‹ ë¢°', theory:'ì„ íƒëœ ì‚¬ì‹¤ì´ ì™œê³¡Â·ê³¼ì¥Â·ì¶•ì†Œ ì—†ì´ ì •í™•í•˜ê²Œ ë¬˜ì‚¬ë˜ì—ˆëŠ”ì§€ì— ëŒ€í•œ ì‹ ë¢°', applied:'ë‰´ìŠ¤ê·¸ë˜í”½ì´ ì‚¬ì‹¤ê³¼ ì •í™•íˆ ë¶€í•©í•˜ëŠ”ê°€ì— ëŒ€í•œ ì‹ ë¢°'},
  {dim:'â‘£ ì €ë„ë¦¬ìŠ¤í‹± í‰ê°€ ì‹ ë¢°', theory:'ë‹¨ìˆœ ì „ë‹¬ì„ ë„˜ì–´ ë§¥ë½ì„ ì œê³µí•˜ê³  ì˜ë¯¸ë¥¼ ë¶€ì—¬í•˜ëŠ” ì „ë¬¸ì  íŒë‹¨ë ¥ì— ëŒ€í•œ ì‹ ë¢°', applied:'ë‰´ìŠ¤ê·¸ë˜í”½ì´ ë°°ê²½ê³¼ ë§¥ë½ì„ ì´í•´í•˜ê³  ì ì ˆí•œ ì‹œê°ì  í•´ì„ì„ ì œê³µí•  ìˆ˜ ìˆëŠ”ê°€ì— ëŒ€í•œ ì‹ ë¢°'}
];

let barriers = [
  {id:'A-1',name:'ê°€ì¹˜ ì¥ë²½',eng:'Value Barrier',type:'ê¸°ëŠ¥ì ',badge:'value',
   theoryDef:'í˜ì‹ ì´ ê¸°ì¡´ ëŒ€ì•ˆ ëŒ€ë¹„ ì¶©ë¶„í•œ ì„±ëŠ¥-ë¹„ìš© ê°€ì¹˜ë¥¼ ì œê³µí•˜ì§€ ëª»í•œë‹¤ëŠ” ì¸ì‹ì—ì„œ ë¹„ë¡¯ë˜ëŠ” ì €í•­(Ram & Sheth, 1989).',
   appliedDef:'AI ë‰´ìŠ¤ê·¸ë˜í”½ì´ ê¸°ì¡´ ì¸ê°„ ì œì‘ ë‰´ìŠ¤ê·¸ë˜í”½ ëŒ€ë¹„ ëª…í™•í•œ ì„±ëŠ¥ì  ì´ì (ì •ë³´ íš¨ìš©)ì„ ì œê³µí•˜ì§€ ëª»í•œë‹¤ëŠ” ì¸ì‹ì—ì„œ ë¹„ë¡¯ë˜ëŠ” ì €í•­.',
   pccs:[
     {num:'01',name:'ì£¼ì œ ì„ íƒ íš¨ìš© ë¶€ì¬',cross:'ê°€ì¹˜ ì¥ë²½ Ã— ì£¼ì œ ì„ íƒì„± ì‹ ë¢°',def:'AI ë‰´ìŠ¤ê·¸ë˜í”½ì€ ì¸ê°„ ì œì‘ ë‰´ìŠ¤ê·¸ë˜í”½ì— ë¹„í•´ ë‰´ìŠ¤ ê°€ì¹˜ê°€ ìˆëŠ” ì£¼ì œë¥¼ ì„ ë³„í•˜ëŠ” ë° ìˆì–´ ë” ë‚˜ì€ ì„±ê³¼ë¥¼ ë³´ì—¬ì£¼ì§€ ëª»í•œë‹¤.'},
     {num:'02',name:'ì‚¬ì‹¤ ì„ íƒ íš¨ìš© ë¶€ì¬',cross:'ê°€ì¹˜ ì¥ë²½ Ã— ì‚¬ì‹¤ ì„ íƒì„± ì‹ ë¢°',def:'AI ë‰´ìŠ¤ê·¸ë˜í”½ì€ ì¸ê°„ ì œì‘ ë‰´ìŠ¤ê·¸ë˜í”½ì— ë¹„í•´ ì¤‘ìš”í•œ ì‚¬ì‹¤ì„ ì„ ë³„í•˜ê³  í¬í•¨í•˜ëŠ” ë° ìˆì–´ ë” ë‚˜ì€ ì„±ê³¼ë¥¼ ë³´ì—¬ì£¼ì§€ ëª»í•œë‹¤.'},
     {num:'03',name:'ì‹œê° í‘œí˜„ íš¨ìš© ë¶€ì¬',cross:'ê°€ì¹˜ ì¥ë²½ Ã— ë¬˜ì‚¬ ì •í™•ì„± ì‹ ë¢°',def:'AI ë‰´ìŠ¤ê·¸ë˜í”½ì€ ì¸ê°„ ì œì‘ ë‰´ìŠ¤ê·¸ë˜í”½ì— ë¹„í•´ ì‚¬ì‹¤ì„ ì •í™•í•˜ê²Œ ì‹œê°ì ìœ¼ë¡œ ë¬˜ì‚¬í•˜ëŠ” ë° ìˆì–´ ë” ë‚˜ì€ ì„±ê³¼ë¥¼ ë³´ì—¬ì£¼ì§€ ëª»í•œë‹¤.'},
     {num:'04',name:'ë§¥ë½ íŒë‹¨ íš¨ìš© ë¶€ì¬',cross:'ê°€ì¹˜ ì¥ë²½ Ã— ì €ë„ë¦¬ìŠ¤í‹± í‰ê°€ ì‹ ë¢°',def:'AI ë‰´ìŠ¤ê·¸ë˜í”½ì€ ì¸ê°„ ì œì‘ ë‰´ìŠ¤ê·¸ë˜í”½ì— ë¹„í•´ ë§¥ë½ì Â·ìœ¤ë¦¬ì  íŒë‹¨ì— ìˆì–´ ë” ë‚˜ì€ ì„±ê³¼ë¥¼ ë³´ì—¬ì£¼ì§€ ëª»í•œë‹¤.'}]},
  {id:'A-2',name:'ìœ„í—˜ ì¥ë²½',eng:'Risk Barrier',type:'ê¸°ëŠ¥ì ',badge:'risk',
   theoryDef:'í˜ì‹ ì˜ ë³¸ì§ˆì  ë¶ˆí™•ì‹¤ì„±ìœ¼ë¡œ ì¸í•´ ë¶€ì •ì  ê²°ê³¼ê°€ ì´ˆë˜ë  ìˆ˜ ìˆë‹¤ëŠ” ìš°ë ¤ì—ì„œ ë¹„ë¡¯ë˜ëŠ” ì €í•­(Ram & Sheth, 1989).',
   appliedDef:'AI ê¸°ìˆ ì˜ ë³¸ì§ˆì  ë¶ˆí™•ì‹¤ì„±ìœ¼ë¡œ ì¸í•´ ë‰´ìŠ¤ê·¸ë˜í”½ì˜ ì •ë³´ì  ê¸°ëŠ¥ì´ ì˜¤ì‘ë™í•˜ê±°ë‚˜ ë¶€ì •ì  ê²°ê³¼ë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆë‹¤ëŠ” ìš°ë ¤ì—ì„œ ë¹„ë¡¯ë˜ëŠ” ì €í•­.',
   pccs:[
     {num:'05',name:'ì£¼ì œ ì„ íƒ ë¶ˆí™•ì‹¤ì„±',cross:'ìœ„í—˜ ì¥ë²½ Ã— ì£¼ì œ ì„ íƒì„± ì‹ ë¢°',def:'AI ê¸°ìˆ ì˜ ë¶ˆí™•ì‹¤ì„±ìœ¼ë¡œ ì¸í•´, AI ë‰´ìŠ¤ê·¸ë˜í”½ì´ ë‰´ìŠ¤ ê°€ì¹˜ê°€ ë‚®ì€ ì£¼ì œë¥¼ ë¶€ì ì ˆí•˜ê²Œ ì„ íƒí•  ìœ„í—˜ì´ ìˆë‹¤.'},
     {num:'06',name:'ì‚¬ì‹¤ ì„ íƒ ë¶ˆí™•ì‹¤ì„±',cross:'ìœ„í—˜ ì¥ë²½ Ã— ì‚¬ì‹¤ ì„ íƒì„± ì‹ ë¢°',def:'AI ê¸°ìˆ ì˜ ë¶ˆí™•ì‹¤ì„±ìœ¼ë¡œ ì¸í•´, AI ë‰´ìŠ¤ê·¸ë˜í”½ì´ ì¤‘ìš”í•œ ì‚¬ì‹¤ì„ ëˆ„ë½í•˜ê±°ë‚˜ ë¶€ì°¨ì  ì‚¬ì‹¤ì„ ê³¼ì‰ í¬í•¨í•  ìœ„í—˜ì´ ìˆë‹¤.'},
     {num:'07',name:'ì‹œê° í‘œí˜„ ë¶ˆí™•ì‹¤ì„±',cross:'ìœ„í—˜ ì¥ë²½ Ã— ë¬˜ì‚¬ ì •í™•ì„± ì‹ ë¢°',def:'AI ê¸°ìˆ ì˜ ë¶ˆí™•ì‹¤ì„±ìœ¼ë¡œ ì¸í•´, AI ë‰´ìŠ¤ê·¸ë˜í”½ì˜ ì‹œê°ì  ë¬˜ì‚¬ê°€ ì‚¬ì‹¤ê³¼ ë¶€í•©í•˜ì§€ ì•Šì„(í• ë£¨ì‹œë„¤ì´ì…˜ í¬í•¨) ìœ„í—˜ì´ ìˆë‹¤.'},
     {num:'08',name:'ë§¥ë½ íŒë‹¨ ë¶ˆí™•ì‹¤ì„±',cross:'ìœ„í—˜ ì¥ë²½ Ã— ì €ë„ë¦¬ìŠ¤í‹± í‰ê°€ ì‹ ë¢°',def:'AI ê¸°ìˆ ì˜ ë¶ˆí™•ì‹¤ì„±ìœ¼ë¡œ ì¸í•´, AI ë‰´ìŠ¤ê·¸ë˜í”½ì´ ì ì ˆí•œ ë§¥ë½ì Â·ìœ¤ë¦¬ì  íŒë‹¨ ì—†ì´ ì •ë³´ë¥¼ ì œì‹œí•  ìœ„í—˜ì´ ìˆë‹¤.'}]},
  {id:'A-3',name:'ì „í†µ ì¥ë²½',eng:'Tradition Barrier',type:'ì‹¬ë¦¬ì ',badge:'tradition',
   theoryDef:'í˜ì‹ ì´ ì†Œë¹„ìì˜ ê¸°ì¡´ ê´€í–‰Â·ìŠµê´€Â·ë£¨í‹´ê³¼ ì¶©ëŒí•˜ì—¬ ë°œìƒí•˜ëŠ” ì €í•­(Ram & Sheth, 1989).',
   appliedDef:'AI ë‰´ìŠ¤ê·¸ë˜í”½ì´ ì†Œë¹„ìê°€ ìµìˆ™í•œ ê¸°ì¡´ ë‰´ìŠ¤ê·¸ë˜í”½ ì œì‘ ê´€í–‰(ì¸ê°„ ì „ë¬¸ê°€ ì¤‘ì‹¬)ê³¼ ì¶©ëŒí•˜ì—¬ ë°œìƒí•˜ëŠ” ì €í•­.',
   pccs:[
     {num:'09',name:'ì£¼ì œ ì„ íƒ ê´€í–‰ ì¶©ëŒ',cross:'ì „í†µ ì¥ë²½ Ã— ì£¼ì œ ì„ íƒì„± ì‹ ë¢°',def:'ì „í†µì ìœ¼ë¡œ ì¸ê°„ í¸ì§‘ìÂ·ê¸°ìê°€ ìˆ˜í–‰í•´ì˜¨ ë‰´ìŠ¤ ì£¼ì œ ì„ ì •ì„ AIê°€ ëŒ€ì²´í•˜ëŠ” ê²ƒì€ ì €ë„ë¦¬ì¦˜ì˜ ê¸°ì¡´ ê´€í–‰ê³¼ ì¶©ëŒí•œë‹¤.'},
     {num:'10',name:'ì‚¬ì‹¤ ì„ íƒ ê´€í–‰ ì¶©ëŒ',cross:'ì „í†µ ì¥ë²½ Ã— ì‚¬ì‹¤ ì„ íƒì„± ì‹ ë¢°',def:'ì „í†µì ìœ¼ë¡œ ì¸ê°„ ê¸°ìÂ·í¸ì§‘ìê°€ ìˆ˜í–‰í•´ì˜¨ ì‚¬ì‹¤ ì„ ë³„ê³¼ ê²€ì¦ì„ AIê°€ ëŒ€ì²´í•˜ëŠ” ê²ƒì€ ì €ë„ë¦¬ì¦˜ì˜ ê¸°ì¡´ ê´€í–‰ê³¼ ì¶©ëŒí•œë‹¤.'},
     {num:'11',name:'ì‹œê° í‘œí˜„ ê´€í–‰ ì¶©ëŒ',cross:'ì „í†µ ì¥ë²½ Ã— ë¬˜ì‚¬ ì •í™•ì„± ì‹ ë¢°',def:'ì „í†µì ìœ¼ë¡œ ì¸ê°„ ê·¸ë˜í”½ ì „ë¬¸ê°€ê°€ ìˆ˜í–‰í•´ì˜¨ ì‹œê°ì  ë¬˜ì‚¬ë¥¼ AIê°€ ëŒ€ì²´í•˜ëŠ” ê²ƒì€ ì €ë„ë¦¬ì¦˜ì˜ ê¸°ì¡´ ê´€í–‰ê³¼ ì¶©ëŒí•œë‹¤.'},
     {num:'12',name:'ë§¥ë½ íŒë‹¨ ê´€í–‰ ì¶©ëŒ',cross:'ì „í†µ ì¥ë²½ Ã— ì €ë„ë¦¬ìŠ¤í‹± í‰ê°€ ì‹ ë¢°',def:'ì „í†µì ìœ¼ë¡œ ì¸ê°„ ì €ë„ë¦¬ìŠ¤íŠ¸ê°€ ìˆ˜í–‰í•´ì˜¨ ë§¥ë½ì Â·ìœ¤ë¦¬ì  íŒë‹¨ì„ AIê°€ ëŒ€ì²´í•˜ëŠ” ê²ƒì€ ì €ë„ë¦¬ì¦˜ì˜ ê¸°ì¡´ ê´€í–‰ê³¼ ì¶©ëŒí•œë‹¤.'}]},
  {id:'A-4',name:'ì´ë¯¸ì§€ ì¥ë²½',eng:'Image Barrier',type:'ì‹¬ë¦¬ì ',badge:'image',
   theoryDef:'í˜ì‹ ì˜ ê¸°ì›Â·ì‚°ì—…Â·ê¸°ìˆ  ë“±ì— ëŒ€í•œ ë¶€ì •ì  ê³ ì •ê´€ë…ì´ íˆ¬ì˜ë˜ì–´ ë°œìƒí•˜ëŠ” ì €í•­(Ram & Sheth, 1989).',
   appliedDef:'ìƒì„±í˜• AI ê¸°ìˆ  ìì²´ì— ëŒ€í•œ ë¶€ì •ì  ê³ ì •ê´€ë…(ë”¥í˜ì´í¬, í—ˆìœ„ì •ë³´ ë“±)ì´ AI ë‰´ìŠ¤ê·¸ë˜í”½ì— íˆ¬ì˜ë˜ì–´ ë°œìƒí•˜ëŠ” ì €í•­.',
   pccs:[
     {num:'13',name:'ì£¼ì œ ì„ íƒ ë¶€ì • ì—°ìƒ',cross:'ì´ë¯¸ì§€ ì¥ë²½ Ã— ì£¼ì œ ì„ íƒì„± ì‹ ë¢°',def:'AI ê¸°ìˆ ì— ëŒ€í•œ ë¶€ì •ì  ì´ë¯¸ì§€(í—ˆìœ„ì •ë³´ ìƒì„± ë“±)ê°€ AI ë‰´ìŠ¤ê·¸ë˜í”½ì˜ ì£¼ì œ ì„ ë³„ ëŠ¥ë ¥ì— ëŒ€í•œ ë¶ˆì‹ ìœ¼ë¡œ ì´ì–´ì§„ë‹¤.'},
     {num:'14',name:'ì‚¬ì‹¤ ì„ íƒ ë¶€ì • ì—°ìƒ',cross:'ì´ë¯¸ì§€ ì¥ë²½ Ã— ì‚¬ì‹¤ ì„ íƒì„± ì‹ ë¢°',def:'AI ê¸°ìˆ ì— ëŒ€í•œ ë¶€ì •ì  ì´ë¯¸ì§€ê°€ AI ë‰´ìŠ¤ê·¸ë˜í”½ì˜ ì‚¬ì‹¤ ì„ ë³„ ê³¼ì •ì— ëŒ€í•œ í¸í–¥ ìš°ë ¤ë¡œ ì´ì–´ì§„ë‹¤.'},
     {num:'15',name:'ì‹œê° í‘œí˜„ ë¶€ì • ì—°ìƒ',cross:'ì´ë¯¸ì§€ ì¥ë²½ Ã— ë¬˜ì‚¬ ì •í™•ì„± ì‹ ë¢°',def:'AI ê¸°ìˆ ì— ëŒ€í•œ ë¶€ì •ì  ì´ë¯¸ì§€(ë”¥í˜ì´í¬ ë“±)ê°€ AI ë‰´ìŠ¤ê·¸ë˜í”½ì˜ ì‹œê°ì  ë¬˜ì‚¬ì— ëŒ€í•œ ì™œê³¡ ìš°ë ¤ë¡œ ì´ì–´ì§„ë‹¤.'},
     {num:'16',name:'ë§¥ë½ íŒë‹¨ ë¶€ì • ì—°ìƒ',cross:'ì´ë¯¸ì§€ ì¥ë²½ Ã— ì €ë„ë¦¬ìŠ¤í‹± í‰ê°€ ì‹ ë¢°',def:'AI ê¸°ìˆ ì— ëŒ€í•œ ë¶€ì •ì  ì´ë¯¸ì§€ê°€ AI ë‰´ìŠ¤ê·¸ë˜í”½ì˜ ì €ë„ë¦¬ìŠ¤í‹± íŒë‹¨ ëŠ¥ë ¥ì— ëŒ€í•œ ë¶ˆì‹ ìœ¼ë¡œ ì´ì–´ì§„ë‹¤.'}]}
];

const SHEET_URL = 'https://script.google.com/macros/s/AKfycbzy-B4JcKsqkcLq5iowUxpkQ_n-JYO1x5gGWx76LKHnVpYy2g7N5GsybMi0LOStj7EBng/exec';
const IS_ADMIN = new URLSearchParams(location.search).get('admin')==='true';
const REQUIRE = /*__REQUIRE__*/true/*__END__*/;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BUILD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renumber(){let n=1;barriers.forEach(b=>{b.pccs.forEach(p=>{p.num=String(n++).padStart(2,'0')})});}

function build(){
  renumber();
  buildInstructions();
  buildPCCPages();
  buildSectionB();
  buildCompletion();
  showPage(currentPage);
}

function req(){return REQUIRE?'required':'';}
function reqStar(){return REQUIRE?'<span class="required">*</span>':'';}

function likert(name){
  let h=`<div class="likert-scale" data-name="${name}">`;
  for(let i=1;i<=5;i++) h+=`<label class="likert-option"><input type="radio" name="${name}" value="${i}" ${i===1?req():''}><span class="likert-btn">${i}</span></label>`;
  h+=`</div><div class="likert-labels"><span>${LIKERT_LABELS[0]}</span><span>${LIKERT_LABELS[2]}</span><span>${LIKERT_LABELS[4]}</span></div>`;
  return h;
}

function kmTable(){
  let h='<table class="ref-table"><tr><th>ì°¨ì›</th><th>ì´ë¡ ì  ì •ì˜</th><th>ë³¸ ì—°êµ¬ì—ì„œì˜ ì ìš©</th></tr>';
  KM_DIMS.forEach(d=>{h+=`<tr><td style="font-weight:600;white-space:nowrap;">${d.dim}</td><td>${d.theory}</td><td>${d.applied}</td></tr>`;});
  return h+'</table>';
}

function buildInstructions(){
  const c=document.getElementById('instructionsCard');
  let h=`<div class="section-title">ìˆ˜ì • ë¸íŒŒì´(Modified Delphi) 1ë¼ìš´ë“œ ì„¤ë¬¸ì§€</div>
    <div class="section-subtitle">ì ì¬ì  êµì°¨ êµ¬ì¸(PCC)ì˜ ì´ë¡ ì  íƒ€ë‹¹ì„± ê²€ì¦</div>
    <p style="font-size:14px;margin-bottom:20px;">ë³¸ ì„¤ë¬¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë‘ ì´ë¡ ê³¼ í•µì‹¬ ìš©ì–´ì˜ ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>`;

  // IRM
  h+=`<div class="info-box definition"><strong>â–¶ ì´ë¡  1: í˜ì‹ ì €í•­ëª¨ë¸(IRM)ì˜ 4ê°œ ì €í•­ ì¥ë²½</strong><br>Ram &amp; Sheth(1989)ëŠ” ì†Œë¹„ìê°€ í˜ì‹ ì„ ì±„íƒí•˜ì§€ ì•ŠëŠ” ì´ìœ ë¥¼ ê¸°ëŠ¥ì  ì¥ë²½ê³¼ ì‹¬ë¦¬ì  ì¥ë²½ìœ¼ë¡œ êµ¬ë¶„í•˜ì˜€ìŠµë‹ˆë‹¤.</div>`;
  h+=`<table class="ref-table"><tr><th>êµ¬ë¶„</th><th>ì¥ë²½</th><th>ì •ì˜</th></tr>`;
  barriers.forEach(b=>{h+=`<tr><td>${b.type} ì¥ë²½</td><td style="font-weight:600;">${b.name}(${b.eng.split(' ')[0]})</td><td>${b.theoryDef}</td></tr>`;});
  h+='</table>';

  // K&M
  h+=`<div class="info-box definition" style="margin-top:24px;"><strong>â–¶ ì´ë¡  2: Kohring &amp; Matthes(2007)ì˜ 4ì°¨ì› ì €ë„ë¦¬ì¦˜ ì‹ ë¢°ì„± ì²™ë„</strong><br>Kohring &amp; Matthes(2007)ëŠ” ë‰´ìŠ¤ ì‹ ë¢°ì„±ì„ ë‹¨ì¼ ê°œë…ì´ ì•„ë‹Œ 4ê°œì˜ í•˜ìœ„ ì°¨ì›ìœ¼ë¡œ ë¶„í™”í•˜ì—¬ ì¸¡ì •í•˜ì˜€ìŠµë‹ˆë‹¤.</div>`;
  h+=`<table class="ref-table"><tr><th>ì°¨ì›</th><th>ì •ì˜</th></tr>`;
  KM_DIMS.forEach(d=>{h+=`<tr><td style="font-weight:600;">${d.dim}</td><td>${d.theory}</td></tr>`;});
  h+='</table>';

  // PCC def
  h+=`<div class="info-box definition" style="margin-top:24px;"><strong>â–¶ ìš©ì–´ ì •ì˜: ì ì¬ì  êµì°¨ êµ¬ì¸(PCC)</strong><br>ìœ„ IRMì˜ 4ê°œ ì €í•­ ì¥ë²½ê³¼ K&amp;M 4ì°¨ì› ì‹ ë¢°ì„± ì²™ë„ì˜ 4ê°œ í•˜ìœ„ ì°¨ì›ì„ ì´ë¡ ì ìœ¼ë¡œ êµì°¨ì‹œì¼œ ë„ì¶œí•œ 16ê°œì˜ êµ¬ì¸ í›„ë³´ì…ë‹ˆë‹¤. ë³¸ ë¸íŒŒì´ ì¡°ì‚¬ë¥¼ í†µí•´ ì „ë¬¸ê°€ í•©ì˜ë¡œ ì´ë¡ ì  íƒ€ë‹¹ì„±ì´ ê²€ì¦ëœ êµ¬ì¸ë§Œì´ ìµœì¢… ì¸¡ì • êµ¬ì¸ìœ¼ë¡œ ì±„íƒë©ë‹ˆë‹¤.</div>`;

  // ì„¤ë¬¸ ë¬¸í•­ ì•ˆë‚´
  h+=`<div class="divider"></div><div class="section-title" style="font-size:16px;margin-bottom:12px;">ì„¤ë¬¸ ë¬¸í•­ ì•ˆë‚´</div>`;
  h+=`<p style="font-size:14px;line-height:1.8;margin-bottom:16px;">ë‹¤ìŒì€ ë¬¸í—Œê³ ì°°ì„ ê·¼ê±°ë¡œ í•˜ì—¬ ë„ì¶œëœ 16ê°œ ì ì¬ì  êµì°¨ êµ¬ì¸ì„ ì •ë¦¬í•œ ê²ƒì…ë‹ˆë‹¤. ê° ì¥ë²½ë³„ë¡œ ì œì‹œëœ PCCì˜ ì¡°ì‘ì  ì •ì˜ë¥¼ í™•ì¸í•˜ì‹œê³ , ì•„ë˜ ë‘ ê°€ì§€ ì¸¡ë©´ì—ì„œ í‰ê°€í•´ ì£¼ì‹­ì‹œì˜¤.</p>`;
  h+=`<div class="info-box"><strong>(1) ì¸¡ì • êµ¬ì¸ íƒ€ë‹¹ì„±:</strong> ê° êµ¬ì¸ì´ AI ë‰´ìŠ¤ê·¸ë˜í”½ì— ëŒ€í•œ ì†Œë¹„ì ì €í•­ì˜ ë…ë¦½ì  ì¸¡ì • êµ¬ì¸ìœ¼ë¡œ íƒ€ë‹¹í•œì§€ë¥¼ 5ì  ì²™ë„ë¡œ í‰ê°€<br><br><strong>(2) ì¢…í•© ì˜ê²¬:</strong> êµ¬ì¸ì˜ ì •ì˜Â·íƒ€ë‹¹ì„±Â·ëª…ì¹­Â·íŒë³„ ê°€ëŠ¥ì„±ì— ëŒ€í•œ ìˆ˜ì •, ë³´ì™„, ë˜ëŠ” ëŒ€ì•ˆì  ì˜ê²¬ì„ ê°œë°©í˜•ìœ¼ë¡œ ê¸°ìˆ </div>`;
  h+=`<p style="font-size:14px;margin-bottom:16px;">ë˜í•œ, ê° ì¥ë²½ ë‚´ 4ê°œ êµ¬ì¸ì˜ íŒë³„ ê°€ëŠ¥ì„±(êµ¬ë¶„ ê°€ëŠ¥í•œ ë…ë¦½ì  ì°¨ì›ì¸ì§€)ë„ í•¨ê»˜ í‰ê°€í•©ë‹ˆë‹¤.</p>`;

  // Matrix
  h+=`<div style="font-weight:600;margin-bottom:8px;font-size:14px;">16ê°œ PCC êµì°¨ ë§¤íŠ¸ë¦­ìŠ¤ (ì°¸ì¡°)</div><div style="overflow-x:auto;"><table class="matrix-table"><tr><th>IRM ì¥ë²½ \\ K&amp;M</th><th>â‘  ì£¼ì œ ì„ íƒì„±</th><th>â‘¡ ì‚¬ì‹¤ ì„ íƒì„±</th><th>â‘¢ ë¬˜ì‚¬ ì •í™•ì„±</th><th>â‘£ ì €ë„ë¦¬ìŠ¤í‹± í‰ê°€</th></tr>`;
  barriers.forEach(b=>{h+=`<tr><td class="row-header">${b.name} (${b.type})</td>`;b.pccs.forEach(p=>{h+=`<td>PCC-${p.num}<br><span style="font-size:11px;">${p.name}</span></td>`;});h+='</tr>';});
  h+='</table></div>';
  h+=`<p style="font-size:12px;color:var(--text-muted);margin-top:8px;font-style:italic;">â€» ì°¸ê³ : PCC-01~04(ê°€ì¹˜ ì¥ë²½)ëŠ” 'ê¸°ì¡´ ëŒ€ì•ˆ ëŒ€ë¹„ ìƒëŒ€ì  íš¨ìš© ë¹„êµ'ì— ì´ˆì ì„ ë‘ë¯€ë¡œ, K&amp;M ì°¨ì›ê³¼ì˜ ì§ì ‘ì  ê´€ë ¨ì„±ì´ ë‹¤ë¥¸ ì¥ë²½ì— ë¹„í•´ ìƒëŒ€ì ìœ¼ë¡œ ì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>`;

  c.innerHTML=h;
}

function buildPCCPages(){
  const c=document.getElementById('pcc-pages-container');c.innerHTML='';
  barriers.forEach((b,bi)=>{
    const pg=bi+3,first=b.pccs[0].num,last=b.pccs[b.pccs.length-1].num;
    let h=`<div class="survey-page" data-page="${pg}">`;

    // Section header - A-nì´ ë©”ì¸ íƒ€ì´í‹€
    h+=`<div class="section-card"><div class="section-title">${b.id}. ${b.name} Ã— K&amp;M 4ì°¨ì› ì‹ ë¢°ì„± ì²™ë„</div><div class="section-subtitle">ì ì¬ì  êµì°¨ êµ¬ì¸(PCC) íƒ€ë‹¹ì„± í‰ê°€</div>`;

    // Collapsible: Barrier definition
    h+=`<details class="collapsible-ref"><summary>ğŸ“– ${b.name} (${b.eng})ì˜ ì´ë¡ ì Â·ì¡°ì‘ì  ì •ì˜ ë³´ê¸°</summary><div class="ref-inner">`;
    h+=`<table class="ref-table"><tr><th>êµ¬ë¶„</th><th>ë‚´ìš©</th></tr>
      <tr><td style="font-weight:600;">ì´ë¡ ì  ì •ì˜</td><td>${b.theoryDef}</td></tr>
      <tr><td style="font-weight:600;">ë³¸ ì—°êµ¬ì—ì„œì˜ ì ìš©</td><td>${b.appliedDef}</td></tr></table></div></details>`;

    // Collapsible: K&M reference
    h+=`<details class="collapsible-ref"><summary>ğŸ“– K&amp;M 4ì°¨ì› ì‹ ë¢°ì„± ì²™ë„ì˜ ì´ë¡ ì Â·ì¡°ì‘ì  ì •ì˜ ë³´ê¸°</summary><div class="ref-inner">${kmTable()}</div></details>`;

    h+='</div>';

    // PCC definitions card
    h+=`<div class="section-card"><div style="font-weight:600;margin-bottom:16px;font-size:14px;">â–¶ ì ì¬ì  êµì°¨ êµ¬ì¸ì˜ ì¡°ì‘ì  ì •ì˜</div>`;
    b.pccs.forEach(p=>{
      h+=`<div class="pcc-def-block"><strong>PCC-${p.num}: ${p.name}</strong> (${p.cross})<br><em>ì¡°ì‘ì  ì •ì˜: "${p.def}"</em></div>`;
    });

    // Rating instruction - ìˆ˜ì •ëœ í…ìŠ¤íŠ¸
    h+=`<div class="info-box" style="margin-top:20px;">ìƒë‹¨ì˜ ì¡°ì‘ì  ì •ì˜ë¥¼ ì°¸ê³ í•˜ì—¬, ì•„ë˜ ê° êµ¬ì¸ì´ AI ë‰´ìŠ¤ê·¸ë˜í”½ ë§¥ë½ì—ì„œ ìˆ˜ìš©ì ì €í•­ì„ ì¸¡ì •í•˜ëŠ” ë…ë¦½ì  êµ¬ì¸ìœ¼ë¡œ íƒ€ë‹¹í•œì§€ í‰ê°€í•´ ì£¼ì‹­ì‹œì˜¤.</div>`;

    // Likert ratings
    b.pccs.forEach(p=>{
      const nm=`PCC${p.num}`;
      h+=`<div class="question-group"><div class="question-label">PCC-${p.num}. ã€Œ${p.name}ã€ ${reqStar()}</div>${likert(nm)}</div>`;
    });

    h+='<div class="divider"></div>';

    // Discriminant
    const dn=b.id.replace('-','')+'_D1';
    h+=`<div class="question-group"><div class="question-label">${b.id}-D1. PCC-${first} ~ PCC-${last}ì˜ ${b.pccs.length}ê°œ êµ¬ì¸ì€ ê°œë…ì ìœ¼ë¡œ ì„œë¡œ êµ¬ë¶„ ê°€ëŠ¥í•œ ë…ë¦½ì  ì°¨ì›ì´ë‹¤. ${reqStar()}</div>${likert(dn)}</div>`;

    // Open
    h+=`<div class="question-group"><div class="question-label">${b.id}-D2. [ê°œë°©í˜•] ìœ„ ${b.pccs.length}ê°œ êµ¬ì¸ì˜ ì •ì˜, ì¸¡ì • êµ¬ì¸ íƒ€ë‹¹ì„±, ëª…ì¹­ì— ëŒ€í•´ ìˆ˜ì •Â·ë³´ì™„Â·ëŒ€ì•ˆì  ì˜ê²¬ì´ ìˆê±°ë‚˜, êµ¬ë¶„ì´ ì–´ë ¤ìš´ ìŒì´ ìˆë‹¤ë©´ ê¸°ìˆ í•´ì£¼ì‹­ì‹œì˜¤.</div>
      <textarea name="${b.id.replace('-','')}_D2" placeholder="ì˜ê²¬ì„ ììœ ë¡­ê²Œ ê¸°ìˆ í•´ì£¼ì‹­ì‹œì˜¤."></textarea></div>`;

    h+='</div>';// close section-card

    h+=`<div class="nav-buttons"><button class="btn btn-prev" onclick="prevPage()">â† ì´ì „</button><button class="btn btn-next" onclick="nextPage()">${bi<barriers.length-1?'ë‹¤ìŒ ì¥ë²½ â†’':'ì„¹ì…˜ B â†’'}</button></div></div>`;
    c.innerHTML+=h;
  });
}

function buildSectionB(){
  const c=document.getElementById('sectionB-container');
  const pg=barriers.length+3;
  let h=`<div class="survey-page" data-page="${pg}">`;

  // B header
  h+=`<div class="section-card"><div class="section-title">ì„¹ì…˜ B. êµ¬ì¸ ì²´ê³„ ê²€ì¦ ë° ì¢…í•© í‰ê°€</div><div class="section-subtitle">16ê°œ ì ì¬ì  êµì°¨ êµ¬ì¸ì˜ ì¤‘ë³µ ê°€ëŠ¥ì„±ê³¼ ëˆ„ë½ ì°¨ì›ì„ ì ê²€í•˜ê³ , ì—°êµ¬ í”„ë ˆì„ì›Œí¬ ì „ë°˜ì— ëŒ€í•œ ì¢…í•©ì  ì˜ê²¬ì„ ìˆ˜ì§‘í•©ë‹ˆë‹¤.</div></div>`;

  // B-1
  h+=`<div class="section-card"><div class="section-title" style="font-size:16px;">B-1. ìœ„í—˜ ì¥ë²½ê³¼ ì´ë¯¸ì§€ ì¥ë²½ì˜ íŒë³„ ê°€ëŠ¥ì„± í‰ê°€</div>
    <div class="info-box"><strong>â–¶ í‰ê°€ ë°°ê²½</strong><br>IRMì˜ 4ê°œ ì¥ë²½ ì¤‘, <strong>ìœ„í—˜ ì¥ë²½</strong>(ê¸°ëŠ¥ì  ì €í•­)ê³¼ <strong>ì´ë¯¸ì§€ ì¥ë²½</strong>(ì‹¬ë¦¬ì  ì €í•­)ì€ ì´ë¡ ì ìœ¼ë¡œ êµ¬ë¶„ë˜ì§€ë§Œ ì†Œë¹„ì ì¸ì‹ ìˆ˜ì¤€ì—ì„œ í˜¼ë™ë  ê°€ëŠ¥ì„±ì´ ê°€ì¥ ë†’ì€ ìŒì…ë‹ˆë‹¤.<br><br>ìœ„í—˜ ì¥ë²½ì€ AI ê¸°ìˆ ì˜ ë³¸ì§ˆì  ë¶ˆí™•ì‹¤ì„±ì— ëŒ€í•œ <strong>êµ¬ì²´ì Â·ê¸°ëŠ¥ì  ìš°ë ¤</strong>(ì˜ˆ: "AIê°€ ì‚¬ì‹¤ì„ ëˆ„ë½í•  ìˆ˜ ìˆë‹¤")ì´ê³ , ì´ë¯¸ì§€ ì¥ë²½ì€ AI ê¸°ìˆ ì— ëŒ€í•´ ì‚¬íšŒì ìœ¼ë¡œ í˜•ì„±ëœ <strong>ë¶€ì •ì  ê³ ì •ê´€ë…ì— ì˜í•œ í¬ê´„ì  ë¶ˆì‹ </strong>(ì˜ˆ: "AIëŠ” ì›ë˜ ê°€ì§œë‰´ìŠ¤ë¥¼ ë§Œë“œëŠ” ê¸°ìˆ ì´ë‹¤")ì…ë‹ˆë‹¤.<br><br>ê·¸ëŸ¬ë‚˜ ë™ì¼í•œ K&amp;M ì°¨ì›ì„ ê³µìœ í•˜ëŠ” ìœ„í—˜-ì´ë¯¸ì§€ êµ¬ì¸ ìŒì˜ ê²½ìš°, ì†Œë¹„ìê°€ "ê¸°ëŠ¥ì  ìš°ë ¤"ì™€ "ê³ ì •ê´€ë…ì— ì˜í•œ ë¶ˆì‹ "ì„ ì‹¤ì œë¡œ êµ¬ë¶„í•˜ì—¬ ì‘ë‹µí•  ìˆ˜ ìˆëŠ”ì§€ëŠ” ê²½í—˜ì  ê²€ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.</div>`;

  // Pair reference table
  h+=`<table class="ref-table" style="margin-bottom:24px;"><tr><th>ìŒ</th><th>êµ¬ì¸ A (ìœ„í—˜ ì¥ë²½)</th><th>êµ¬ì¸ B (ì´ë¯¸ì§€ ì¥ë²½)</th><th>ê³µìœ  ì°¨ì›</th></tr>
    <tr><td style="text-align:center;">1</td><td>PCC-05 ì£¼ì œ ì„ íƒ ë¶ˆí™•ì‹¤ì„±</td><td>PCC-13 ì£¼ì œ ì„ íƒ ë¶€ì • ì—°ìƒ</td><td>ì£¼ì œ ì„ íƒì„±</td></tr>
    <tr><td style="text-align:center;">2</td><td>PCC-06 ì‚¬ì‹¤ ì„ íƒ ë¶ˆí™•ì‹¤ì„±</td><td>PCC-14 ì‚¬ì‹¤ ì„ íƒ ë¶€ì • ì—°ìƒ</td><td>ì‚¬ì‹¤ ì„ íƒì„±</td></tr>
    <tr><td style="text-align:center;">3</td><td>PCC-07 ì‹œê° í‘œí˜„ ë¶ˆí™•ì‹¤ì„±</td><td>PCC-15 ì‹œê° í‘œí˜„ ë¶€ì • ì—°ìƒ</td><td>ë¬˜ì‚¬ ì •í™•ì„±</td></tr>
    <tr><td style="text-align:center;">4</td><td>PCC-08 ë§¥ë½ íŒë‹¨ ë¶ˆí™•ì‹¤ì„±</td><td>PCC-16 ë§¥ë½ íŒë‹¨ ë¶€ì • ì—°ìƒ</td><td>ì €ë„ë¦¬ìŠ¤í‹± í‰ê°€</td></tr></table>`;

  const b1q=[
    {id:'B1_1',text:'ã€Œì£¼ì œ ì„ íƒ ë¶ˆí™•ì‹¤ì„±ã€(ìœ„í—˜)ê³¼ ã€Œì£¼ì œ ì„ íƒ ë¶€ì • ì—°ìƒã€(ì´ë¯¸ì§€)ì€ ì†Œë¹„ìê°€ ê°œë…ì ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” ë…ë¦½ì  êµ¬ì¸ì´ë‹¤.'},
    {id:'B1_2',text:'ã€Œì‚¬ì‹¤ ì„ íƒ ë¶ˆí™•ì‹¤ì„±ã€(ìœ„í—˜)ê³¼ ã€Œì‚¬ì‹¤ ì„ íƒ ë¶€ì • ì—°ìƒã€(ì´ë¯¸ì§€)ì€ ì†Œë¹„ìê°€ ê°œë…ì ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” ë…ë¦½ì  êµ¬ì¸ì´ë‹¤.'},
    {id:'B1_3',text:'ã€Œì‹œê° í‘œí˜„ ë¶ˆí™•ì‹¤ì„±ã€(ìœ„í—˜)ê³¼ ã€Œì‹œê° í‘œí˜„ ë¶€ì • ì—°ìƒã€(ì´ë¯¸ì§€)ì€ ì†Œë¹„ìê°€ ê°œë…ì ìœ¼ë¡œ êµ¬ .'}
  ];
  b1q.forEach((q,i)=>{
    h+=`<div class="question-group"><div class="question-label">B-1-${i+1}. ${q.text} ${reqStar()}</div>${likert(q.id)}</div>`;
  });
  h+=`<div class="question-group"><div class="question-label">B-1-5. [ê°œë°©í˜•] ìœ„ 4ìŒì˜ íŒë³„ ê°€ëŠ¥ì„±ì— ëŒ€í•œ ì˜ê²¬ì„ ê¸°ìˆ í•´ ì£¼ì‹­ì‹œì˜¤. ë˜í•œ, ìœ„í—˜-ì´ë¯¸ì§€ ì™¸ì— ë‹¤ë¥¸ ì¥ë²½ ê°„ì—ë„ ê°œë…ì  êµ¬ë¶„ì´ ì–´ë µë‹¤ê³  íŒë‹¨ë˜ëŠ” êµ¬ì¸ ìŒì´ ìˆë‹¤ë©´ í•¨ê»˜ ê¸°ìˆ í•´ ì£¼ì‹­ì‹œì˜¤.</div>
    <textarea name="B1_open" placeholder="ì˜ê²¬ì„ ììœ ë¡­ê²Œ ê¸°ìˆ í•´ì£¼ì‹­ì‹œì˜¤."></textarea></div></div>`;

  // B-2
  h+=`<div class="section-card"><div class="section-title" style="font-size:16px;">B-2. ëˆ„ë½ ì°¨ì› ì‹ë³„</div>
    <p style="font-size:14px;color:var(--text-secondary);margin-bottom:20px;">16ê°œ ì ì¬ì  êµì°¨ êµ¬ì¸ì— í¬í•¨ë˜ì§€ ì•Šì•˜ìœ¼ë‚˜, AI ë‰´ìŠ¤ê·¸ë˜í”½ì— ëŒ€í•œ ì†Œë¹„ì ì €í•­ì„ ì„¤ëª…í•˜ëŠ” ë° ì¤‘ìš”í•œ ì°¨ì›ì´ ìˆë‹¤ë©´ ì œì•ˆí•´ì£¼ì‹­ì‹œì˜¤.</p>
    <div class="question-group"><div class="question-label">ì œì•ˆ ì°¨ì› 1</div><textarea name="B2_1" placeholder="ì°¨ì›ëª…ê³¼ ì´ë¡ ì  ê·¼ê±°ë¥¼ í•¨ê»˜ ê¸°ìˆ í•´ì£¼ì‹­ì‹œì˜¤."></textarea></div>
    <div class="question-group"><div class="question-label">ì œì•ˆ ì°¨ì› 2</div><textarea name="B2_2" placeholder="ì°¨ì›ëª…ê³¼ ì´ë¡ ì  ê·¼ê±°ë¥¼ í•¨ê»˜ ê¸°ìˆ í•´ì£¼ì‹­ì‹œì˜¤."></textarea></div></div>`;

  // B-3
  h+=`<div class="section-card"><div class="section-title" style="font-size:16px;">B-3. ì¢…í•© ì˜ê²¬</div>
    <div class="question-group"><div class="question-label">B-3-1. ë³¸ ì—°êµ¬ì˜ ì´ë¡ ì  í”„ë ˆì„ì›Œí¬ ì „ë°˜ì— ëŒ€í•´ ë³´ì™„, ìˆ˜ì •, ë˜ëŠ” ì¬ê²€í† ê°€ í•„ìš”í•œ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ììœ ë¡­ê²Œ ê¸°ìˆ í•´ì£¼ì‹­ì‹œì˜¤.</div>
      <textarea name="B3_1" placeholder="ììœ ë¡­ê²Œ ê¸°ìˆ í•´ì£¼ì‹­ì‹œì˜¤."></textarea></div>
    <div class="question-group"><div class="question-label">B-3-2. 2ë¼ìš´ë“œ ì„¤ë¬¸ì—ì„œ ì¶”ê°€ì ìœ¼ë¡œ ê²€í† ê°€ í•„ìš”í•˜ë‹¤ê³  ìƒê°í•˜ì‹œëŠ” ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ê¸°ìˆ í•´ì£¼ì‹­ì‹œì˜¤.</div>
      <textarea name="B3_2" placeholder="ììœ ë¡­ê²Œ ê¸°ìˆ í•´ì£¼ì‹­ì‹œì˜¤."></textarea></div></div>`;

  h+=`<div class="nav-buttons"><button class="btn btn-prev" onclick="prevPage()">â† ì´ì „</button><button class="btn btn-submit" onclick="submitForm()">ì„¤ë¬¸ ì œì¶œ</button></div></div>`;
  c.innerHTML=h;
}

function buildCompletion(){
  const c=document.getElementById('completion-container');
  c.innerHTML=`<div class="survey-page" data-page="${barriers.length+4}"><div class="completion-page"><div class="check-icon">âœ“</div><h2>ì„¤ë¬¸ì— ì‘í•´ì£¼ì…”ì„œ ëŒ€ë‹¨íˆ ê°ì‚¬í•©ë‹ˆë‹¤</h2><p>ê·€í•˜ì˜ ì „ë¬¸ì  ì˜ê²¬ì€ ë³¸ ì—°êµ¬ì˜ ì´ë¡ ì  ê¸°ë°˜ í™•ë¦½ì—<br>í•µì‹¬ì  ê¸°ì—¬ë¥¼ í•©ë‹ˆë‹¤.</p><div style="height:24px;"></div><p style="font-size:13px;">ë¬¸ì˜: ë¥˜ì¢…ì› (í™ìµëŒ€í•™êµ AIÂ·ì‹¤ê°ë¯¸ë””ì–´ì½˜í…ì¸ í•™ê³¼ ë°•ì‚¬ê³¼ì •)<br>ì´ë©”ì¼: gongkar@gmail.com | ì—°ë½ì²˜: 010-9362-5763</p></div></div>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// NAVIGATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let currentPage=0;
function showPage(n){
  document.querySelectorAll('.survey-page').forEach(p=>p.classList.remove('active'));
  const t=document.querySelector(`.survey-page[data-page="${n}"]`);
  if(t){t.classList.add('active');window.scrollTo({top:0,behavior:'smooth'});}
  currentPage=n;
  const hdr=document.querySelector('.survey-header');if(hdr)hdr.style.display=n===0?'':'none';
  const total=document.querySelectorAll('.survey-page').length;
  const pct=Math.round((n/(total-1))*100);
  document.getElementById('progressFill').style.width=pct+'%';
  document.getElementById('progressLabel').textContent=pct+'%';
  document.getElementById('progressPages').textContent=`${n+1} / ${total}`;
}
function validatePage(pn){
  if(IS_ADMIN||!REQUIRE)return true;
  const page=document.querySelector(`.survey-page[data-page="${pn}"]`);if(!page)return true;
  for(let i of page.querySelectorAll('input[type="text"][required],input[type="number"][required]')){if(!i.value.trim()){i.classList.add('error');i.focus();showToast('í•„ìˆ˜ í•­ëª©ì„ ëª¨ë‘ ì‘ì„±í•´ì£¼ì„¸ìš”.');return false;}i.classList.remove('error');}
  const rg=new Set();page.querySelectorAll('input[type="radio"][required]').forEach(r=>rg.add(r.name));
  for(let name of rg){if(!page.querySelector(`input[name="${name}"]:checked`)){const s=page.querySelector(`.likert-scale[data-name="${name}"]`);if(s)s.classList.add('error');showToast('í•„ìˆ˜ í•­ëª©ì„ ëª¨ë‘ ì‘ì„±í•´ì£¼ì„¸ìš”.');return false;}}
  for(let cb of page.querySelectorAll('input[type="checkbox"][required]')){if(!cb.checked){showToast('ì—°êµ¬ ì°¸ì—¬ì— ë™ì˜í•´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.');return false;}}
  return true;
}
function nextPage(){if(!validatePage(currentPage))return;const t=document.querySelectorAll('.survey-page').length;if(currentPage<t-1)showPage(currentPage+1);}
function prevPage(){if(currentPage>0)showPage(currentPage-1);}
function showToast(msg){const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),3000);}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SUBMISSION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function collectAllData(){
  const d={timestamp:new Date().toISOString()};
  document.querySelectorAll('input[type="text"],input[type="number"]').forEach(i=>{if(i.name)d[i.name]=i.value;});
  document.querySelectorAll('input[type="radio"]:checked').forEach(r=>{d[r.name]=r.value;});
  document.querySelectorAll('input[type="checkbox"]:checked').forEach(c=>{d[c.name]=c.value;});
  document.querySelectorAll('textarea').forEach(t=>{if(t.name)d[t.name]=t.value;});
  return d;
}
async function submitForm(){
  if(!validatePage(currentPage))return;
  const data=collectAllData(),done=barriers.length+4;
  if(SHEET_URL){
    try{const b=document.querySelector('.btn-submit');b.disabled=true;b.textContent='ì œì¶œ ì¤‘...';
      await fetch(SHEET_URL,{method:'POST',mode:'no-cors',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});showPage(done);
    }catch(e){showToast('ì œì¶œ ì˜¤ë¥˜');const b=document.querySelector('.btn-submit');b.disabled=false;b.textContent='ì„¤ë¬¸ ì œì¶œ';}
  }else{
    const blob=new Blob([JSON.stringify(data,null,2)],{type:'application/json'}),url=URL.createObjectURL(blob);
    const a=document.createElement('a');a.href=url;a.download=`delphi_r1_${data.name||'response'}_${new Date().toISOString().slice(0,10)}.json`;a.click();URL.revokeObjectURL(url);showPage(done);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// EXPORT / IMPORT (admin)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function exportJSON(){
  renumber();
  const blob=new Blob([JSON.stringify({exportedAt:new Date().toISOString(),barriers},null,2)],{type:'application/json'});
  const url=URL.createObjectURL(blob),a=document.createElement('a');a.href=url;a.download=`delphi_config_${new Date().toISOString().slice(0,10)}.json`;a.click();URL.revokeObjectURL(url);showToast('ğŸ’¾ ì €ì¥ ì™„ë£Œ');
}
function importJSON(){document.getElementById('jsonImporter').click();}
function handleImport(e){
  const file=e.target.files[0];if(!file)return;
  const r=new FileReader();r.onload=function(ev){
    try{const d=JSON.parse(ev.target.result);if(d.barriers)barriers=d.barriers;build();showToast('âœ“ ë¶ˆëŸ¬ì˜¤ê¸° ì™„ë£Œ');}catch(err){showToast('JSON ì˜¤ë¥˜');}
  };r.readAsText(file);e.target.value='';
}

// INIT
if(IS_ADMIN) document.body.classList.add('admin-mode');
const _d=new Date();document.getElementById('autoDate').textContent=`${_d.getFullYear()}ë…„ ${_d.getMonth()+1}ì›” ${_d.getDate()}ì¼`;
build();
</script>
</body>
</html>